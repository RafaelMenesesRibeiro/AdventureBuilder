<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Vehicles</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.1.0/css/bootstrap.min.css}" />

    <script th:src="@{/webjars/jquery/3.1.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.1.0/js/bootstrap.min.js}"></script>
</head>

<body>
    <div class="container">
        <h2>
            Vehicles of RentACar
            <span th:text="${rentACar.name}">Name</span>
        </h2>
        <a class="btn btn-default pull-right" th:href="@{/rentacars}">RentACars</a>
        <br/>
        <h3>Create Vehicle</h3>
        <p class="text-danger" th:text="${error}">Error</p>
        <form class="form-inline" th:action="@{/rentacars/{code}/vehicles(code=${rentACar.code})}" th:object="${vehicle}" method="post">
            <label>Plate: </label>
            <input class="form-control" type="text" th:field="*{plate}" />
            <label>Kilometers: </label>
            <input class="form-control" type="number" th:field="*{kilometers}" />
            <label>Price: </label>
            <input class="form-control" type="number" th:field="*{price}" />
            <label>Type: </label>
            <select class="form-control" th:field="*{type}">
                <option type="text" th:value="Car" th:text="Car"></option>
                <option type="text" th:value="Motorcycle" th:text="Motorcycle"></option>
            </select>
            <input class="btn btn-primary" type="submit" value="Submit" />
        </form>
        <br/>
        <h3>Vehicles</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Plate</th>
                    <th>Kilometers</th>
                    <th>Price</th>                    
                    <th>Type</th>
                    <th>Rentings</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="vehicle: ${rentACar.vehicles}">
                    <td th:text="${vehicle.plate}">AA-AA-AA</td>
                    <td th:text="${vehicle.kilometers}">0</td>
                    <td th:text="${vehicle.price}">10</td>
                    <td th:text="${vehicle.type}">Car</td>
                    <td>
                        <a th:href="@{/rentacars/{code}/vehicles/{plate}/rentings(code=${rentACar.code},plate=${vehicle.plate})}">Rentings</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>

</html>